{
  "title": "testing",
  "date": "2023-03-7",
  "description": "test",
  "image": "https://velog.velcdn.com/images/restarea/post/58afa61e-e6a0-462e-afd4-0864133c6537/image.png",
  "body": {
    "raw": "\n### test\n\n![](https://velog.velcdn.com/images/restarea/post/58afa61e-e6a0-462e-afd4-0864133c6537/image.png)\n\n> 해당 글은 무겁고 사이즈가 큰 프로젝트를 진행함에 앞서 server state를 어떤식으로 일관되게 가독성있게 관리하여 효율적인 작업이 가능할까를 고민하며 react query를 이용한 server state 관리법과 폴더구조, 설계등을 담은 글로서 하나의 의견으로 봐주시면 감사드리겠습니다.\n\n## 배경\n\n리액트를 이용해 웹 어플리케이션을 만드는데 있어 서버에서 데이터를 주고 받는 것은 불가결한 행위이며 이에 대한 고민을 끝없이 해왔다.\n\na. 서버에 api call을 날려 이를 useState를 통해 담는다. 형제 관계에 있는 컴포넌트나 여러 떨어진 곳에 위치한 컴포넌트에서 같은 데이터를 필요로 할 때 우리는 전역 store에 해당 state를 등록한다. post등의 call을 날리는 경우에는 api call + state를 다시 변경해주는 코드를 작성해야한다.\n\n위의 방법론은 가장 기초가 되는 server state를 다루는 방법이었고 해가 거듭할수록 웹은 많은 인터랙션을 요구했고 많은 데이터를 담을 수 밖에 없었다. 점점 사이즈는 커졌고 이에 따라 관리해야하는 state도 늘어났다.\n\n> 리액트 쿼리의 등장은 복잡한 server state를 좀 더 깔끔하게 관리해주는 계기가 되었고 전역 상태에 대한 관리법에 대한 고민을 덜어주었다. 돌이켜보니 대부분의 전역 상태는 서버에서 기인되었던 것이다. redux thunk와 같은 복잡함에서 벗어나 recoil, zotai와 같은 아톰 패턴의 상태 관리 라이브러리들이 조명받는 계기가 되었다.\n\n## react query에 대해.\n\n### react query를 접하면 처음 useQuery와 마주하게된다.\n\n```\n const { data, isLoading } = useQuery(['queryKey'], fetchSomething,\n  );\n```\n\n첫 인상이 어땠나요?<br />\n<br />\n다음 코드를 통해 조금 더 살펴봅니다.<br />\n<br />\n```\n//react query\nconst [page, setPage] = useState(0)\nconst {data} = useQuery([page],()=>fetchSomething(page))\n\n//with normal useState\nconst [page, setPage] = useState(0)\nconst [data, setData] = useState([])\n\n  useEffect(() => {\n    const newData = fetchSomething(page)\n    setData(newData)\n  }, [page])\n```\n\nuseEffect와 useState 더 나아가 전역 스토어에 저장하는 방식에서\nreact-query방식으로 바꿈으로서 우리는 위 코드에서 우선 2가지 이점을\n얻을 수있습니다.\n\n1. 단순 코드량.\n2. server state 분리를 통한 코드 가독성\n\n### 전역 관리로서의 react query\n\nuseQuery를 잠시 살펴봅니다.\n첫 번째 파라미터로 무언가 배열을 받고있습니다.\n쿼리키라고 칭하는 이것은 recoil의 키와 비슷한 느낌으로 키로 구별해 store에 저장합니다.\n다만 리코일과 다르게 복수의 키를 가질 수 있습니다.(배열)\n두 번째 인자인 fetch함수의 결과값을 data에 담아 쿼리클라이언트에 담깁니다.\n\n### 캐싱 관리\n\n리액트 쿼리에는 몇 가지 규칙에 따라 fetch함수를 재호출할지 결정합니다.\n또 몇 가지 설정에 따라 해당 키를 가진 data가 상했는지 아닌지를 판단합니다.\n상했다면 재호출됩니다.\n\n규칙과 활용에 대해서는 본 글의 주제와 멀어지므로 이해하고 있다고 가정하고 넘어가겠습니다.\n\n## 리액트 쿼리를 이용한 설계에 대해\n\n드디어 본론입니다!\n\n다양한 기능을 제공하는만큼 일관되고 스마트하게 활용하기 위해 많은 고민을 하게 되었습니다.\n\n대략적인 구조는\n\n컴포넌트에서는 custom hook으로 래핑된 useQuery 혹은 useMutation 훅을 불러오고 useQuery의 fetch함수들은 services라는 폴더에 페이지 단위로 파일을 만들어 관리합니다.\n\n다음 코드는 services 코드에 정의된 fetcher함수들입니다.\n\n```\n// /services/somethings.ts\n\nexport const getSomething = async (id: string) => {\n  const data = await axios.get(`/api/something?id=${id}`).then((res) => res.data);\n  return data;\n};\n\nexport const addSomething = async (content) => {\n  await axios.post('/api/something', content);\n};\n\n```\n\n이 함수들을 custom query hook에서 호출해줍니다.\n\n```\n// pages/Something/_queries.ts\n\nexport const useSomethingQuery = (id: string) => {\n  const { data, isLoading } = useQuery(['/something', id], () =>\n    getSomething(id),\n  );\n  return {\n    somethingData: data,\n    isLoading,\n  };\n};\n\nexport const useSomethingMutation = (content) => {\n  const queryClient = useQueryClient();\n  const { mutate } = useMutation(() => addSomething(content), {\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/something'] });\n    },\n  });\n\n  return {\n    mutateWidgetConfig: mutate,\n  };\n};\n\n```\n\n```\n// SomeComponent.jsx\n\n...\n\nconst { somethingData, isLoading} = useSomethingQuery('someId')\n\nconst somethingsList = somethingData.map((something)=> {\n  return (\n  <li key={something}>{something}<li>\n  )\n})\n\nreturn (\n  <div>\n    {isLoading ?\n      (<span>...loading</span>)\n      : (<ul>{somethingsList}</ul>)\n  </div>\n)\n\n```\n\n- 여기서 알려드리고 싶은 점은 useMutation콜입니다.\n  기존에 매번 post를 할 때 데이터를 갱신해주기 위해 post콜과 setState를 묶어 코드를 작성하였습니다. useMutation에는 한 가지 주의해야 할 점이 있는데 바로 query키에 변동이 없기 때문에 refetching이 이루어지지 않는다는 점입니다.\n  위에 예시는 post call이 성공함에 따라 query key를 날려버려서 다시 조회하게 만드는 방법입니다.\n\n> 데이터량이 많거나 연산이 무겁거나 mutation call이 빈번할 경우 성공시 refetching해오는 대신 쿼리 데이터만 바꿔주는 방법도 있습니다.\n\n이런식으로 구성한데는 몇 가지 이유가 있습니다.\n\na. 근간이 되는 원칙은 컴포넌트에서는 최대한 간결하고 깔끔하고 직관적이게입니다. 우리는 컴포넌트에서 useSomethingQuery가 어떤식의 로직으로 돌아가는지 알 필요가 없습니다.\n로직 수정은 오로지 queries파일에서 이루어집니다.\n\nb. 해당 방식은 마치 파라미터를 넣으면 원하는 데이터가 나오는 단순 함수처럼 보여집니다. 컴포넌트 레벨에서의 코드량을 줄일 수 있으며 직관적입니다.\n\nc. queries파일은 컴포넌트에서 직접적으로 사용되기 때문에 메인테이너인 tkdodo의 의견에 따라 같은 레벨의 폴더에 co-locating 시켜주었습니다.\n\nd. 반대로 fetch함수들은 page 단위별로 조회할 일이 많고 api 목록을 한꺼번에 조회할 일도 많았기 때문에 services폴더에 기능 혹은 페이지 단위로 파일을 만들어 모듈화하여 관리합니다.\n\n> 현재도 더 나은 구조에 대해 고민중에 있으며 이 글에서 소개드린 방식은 현재까지 사용했던 방식중 가장 직관적이고 괜찮다고 생각하여 소개하게 되었습니다.\n",
    "code": "var Component=(()=>{var un=Object.create;var P=Object.defineProperty;var dn=Object.getOwnPropertyDescriptor;var fn=Object.getOwnPropertyNames;var bn=Object.getPrototypeOf,cn=Object.prototype.hasOwnProperty;var Q=(d,r)=>()=>(r||d((r={exports:{}}).exports,r),r.exports),mn=(d,r)=>{for(var p in r)P(d,p,{get:r[p],enumerable:!0})},Ne=(d,r,p,v)=>{if(r&&typeof r==\"object\"||typeof r==\"function\")for(let y of fn(r))!cn.call(d,y)&&y!==p&&P(d,y,{get:()=>r[y],enumerable:!(v=dn(r,y))||v.enumerable});return d};var _n=(d,r,p)=>(p=d!=null?un(bn(d)):{},Ne(r||!d||!d.__esModule?P(p,\"default\",{value:d,enumerable:!0}):p,d)),pn=d=>Ne(P({},\"__esModule\",{value:!0}),d);var De=Q((xn,xe)=>{xe.exports=React});var Ee=Q(B=>{\"use strict\";(function(){\"use strict\";var d=De(),r=Symbol.for(\"react.element\"),p=Symbol.for(\"react.portal\"),v=Symbol.for(\"react.fragment\"),y=Symbol.for(\"react.strict_mode\"),G=Symbol.for(\"react.profiler\"),K=Symbol.for(\"react.provider\"),X=Symbol.for(\"react.context\"),O=Symbol.for(\"react.forward_ref\"),j=Symbol.for(\"react.suspense\"),F=Symbol.for(\"react.suspense_list\"),k=Symbol.for(\"react.memo\"),A=Symbol.for(\"react.lazy\"),ke=Symbol.for(\"react.offscreen\"),H=Symbol.iterator,Re=\"@@iterator\";function Ue(e){if(e===null||typeof e!=\"object\")return null;var n=H&&e[H]||e[Re];return typeof n==\"function\"?n:null}var x=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function c(e){{for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];ze(\"error\",e,a)}}function ze(e,n,a){{var o=x.ReactDebugCurrentFrame,l=o.getStackAddendum();l!==\"\"&&(n+=\"%s\",a=a.concat([l]));var u=a.map(function(i){return String(i)});u.unshift(\"Warning: \"+n),Function.prototype.apply.call(console[e],console,u)}}var Se=!1,Te=!1,Pe=!1,je=!1,Fe=!1,J;J=Symbol.for(\"react.module.reference\");function Ae(e){return!!(typeof e==\"string\"||typeof e==\"function\"||e===v||e===G||Fe||e===y||e===j||e===F||je||e===ke||Se||Te||Pe||typeof e==\"object\"&&e!==null&&(e.$$typeof===A||e.$$typeof===k||e.$$typeof===K||e.$$typeof===X||e.$$typeof===O||e.$$typeof===J||e.getModuleId!==void 0))}function qe(e,n,a){var o=e.displayName;if(o)return o;var l=n.displayName||n.name||\"\";return l!==\"\"?a+\"(\"+l+\")\":a}function Z(e){return e.displayName||\"Context\"}function h(e){if(e==null)return null;if(typeof e.tag==\"number\"&&c(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case v:return\"Fragment\";case p:return\"Portal\";case G:return\"Profiler\";case y:return\"StrictMode\";case j:return\"Suspense\";case F:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case X:var n=e;return Z(n)+\".Consumer\";case K:var a=e;return Z(a._context)+\".Provider\";case O:return qe(e,e.render,\"ForwardRef\");case k:var o=e.displayName||null;return o!==null?o:h(e.type)||\"Memo\";case A:{var l=e,u=l._payload,i=l._init;try{return h(i(u))}catch{return null}}}return null}var N=Object.assign,C=0,ee,ne,re,te,ae,oe,se;function ie(){}ie.__reactDisabledLog=!0;function Ie(){{if(C===0){ee=console.log,ne=console.info,re=console.warn,te=console.error,ae=console.group,oe=console.groupCollapsed,se=console.groupEnd;var e={configurable:!0,enumerable:!0,value:ie,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}C++}}function Me(){{if(C--,C===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:N({},e,{value:ee}),info:N({},e,{value:ne}),warn:N({},e,{value:re}),error:N({},e,{value:te}),group:N({},e,{value:ae}),groupCollapsed:N({},e,{value:oe}),groupEnd:N({},e,{value:se})})}C<0&&c(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var q=x.ReactCurrentDispatcher,I;function R(e,n,a){{if(I===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\\n( *(at )?)/);I=o&&o[1]||\"\"}return`\n`+I+e}}var M=!1,U;{var Le=typeof WeakMap==\"function\"?WeakMap:Map;U=new Le}function le(e,n){if(!e||M)return\"\";{var a=U.get(e);if(a!==void 0)return a}var o;M=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var u;u=q.current,q.current=null,Ie();try{if(n){var i=function(){throw Error()};if(Object.defineProperty(i.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(i,[])}catch(g){o=g}Reflect.construct(e,[],i)}else{try{i.call()}catch(g){o=g}e.call(i.prototype)}}else{try{throw Error()}catch(g){o=g}e()}}catch(g){if(g&&o&&typeof g.stack==\"string\"){for(var s=g.stack.split(`\n`),m=o.stack.split(`\n`),f=s.length-1,b=m.length-1;f>=1&&b>=0&&s[f]!==m[b];)b--;for(;f>=1&&b>=0;f--,b--)if(s[f]!==m[b]){if(f!==1||b!==1)do if(f--,b--,b<0||s[f]!==m[b]){var _=`\n`+s[f].replace(\" at new \",\" at \");return e.displayName&&_.includes(\"<anonymous>\")&&(_=_.replace(\"<anonymous>\",e.displayName)),typeof e==\"function\"&&U.set(e,_),_}while(f>=1&&b>=0);break}}}finally{M=!1,q.current=u,Me(),Error.prepareStackTrace=l}var E=e?e.displayName||e.name:\"\",ve=E?R(E):\"\";return typeof e==\"function\"&&U.set(e,ve),ve}function $e(e,n,a){return le(e,!1)}function We(e){var n=e.prototype;return!!(n&&n.isReactComponent)}function z(e,n,a){if(e==null)return\"\";if(typeof e==\"function\")return le(e,We(e));if(typeof e==\"string\")return R(e);switch(e){case j:return R(\"Suspense\");case F:return R(\"SuspenseList\")}if(typeof e==\"object\")switch(e.$$typeof){case O:return $e(e.render);case k:return z(e.type,n,a);case A:{var o=e,l=o._payload,u=o._init;try{return z(u(l),n,a)}catch{}}}return\"\"}var S=Object.prototype.hasOwnProperty,ue={},de=x.ReactDebugCurrentFrame;function T(e){if(e){var n=e._owner,a=z(e.type,e._source,n?n.type:null);de.setExtraStackFrame(a)}else de.setExtraStackFrame(null)}function Ye(e,n,a,o,l){{var u=Function.call.bind(S);for(var i in e)if(u(e,i)){var s=void 0;try{if(typeof e[i]!=\"function\"){var m=Error((o||\"React class\")+\": \"+a+\" type `\"+i+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof e[i]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw m.name=\"Invariant Violation\",m}s=e[i](n,i,o,a,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(f){s=f}s&&!(s instanceof Error)&&(T(l),c(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",o||\"React class\",a,i,typeof s),T(null)),s instanceof Error&&!(s.message in ue)&&(ue[s.message]=!0,T(l),c(\"Failed %s type: %s\",a,s.message),T(null))}}}var Ve=Array.isArray;function L(e){return Ve(e)}function Qe(e){{var n=typeof Symbol==\"function\"&&Symbol.toStringTag,a=n&&e[Symbol.toStringTag]||e.constructor.name||\"Object\";return a}}function Be(e){try{return fe(e),!1}catch{return!0}}function fe(e){return\"\"+e}function be(e){if(Be(e))return c(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",Qe(e)),fe(e)}var w=x.ReactCurrentOwner,Ge={key:!0,ref:!0,__self:!0,__source:!0},ce,me,$;$={};function Ke(e){if(S.call(e,\"ref\")){var n=Object.getOwnPropertyDescriptor(e,\"ref\").get;if(n&&n.isReactWarning)return!1}return e.ref!==void 0}function Xe(e){if(S.call(e,\"key\")){var n=Object.getOwnPropertyDescriptor(e,\"key\").get;if(n&&n.isReactWarning)return!1}return e.key!==void 0}function He(e,n){if(typeof e.ref==\"string\"&&w.current&&n&&w.current.stateNode!==n){var a=h(w.current.type);$[a]||(c('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',h(w.current.type),e.ref),$[a]=!0)}}function Je(e,n){{var a=function(){ce||(ce=!0,c(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",n))};a.isReactWarning=!0,Object.defineProperty(e,\"key\",{get:a,configurable:!0})}}function Ze(e,n){{var a=function(){me||(me=!0,c(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",n))};a.isReactWarning=!0,Object.defineProperty(e,\"ref\",{get:a,configurable:!0})}}var en=function(e,n,a,o,l,u,i){var s={$$typeof:r,type:e,key:n,ref:a,props:i,_owner:u};return s._store={},Object.defineProperty(s._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(s,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.defineProperty(s,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:l}),Object.freeze&&(Object.freeze(s.props),Object.freeze(s)),s};function nn(e,n,a,o,l){{var u,i={},s=null,m=null;a!==void 0&&(be(a),s=\"\"+a),Xe(n)&&(be(n.key),s=\"\"+n.key),Ke(n)&&(m=n.ref,He(n,l));for(u in n)S.call(n,u)&&!Ge.hasOwnProperty(u)&&(i[u]=n[u]);if(e&&e.defaultProps){var f=e.defaultProps;for(u in f)i[u]===void 0&&(i[u]=f[u])}if(s||m){var b=typeof e==\"function\"?e.displayName||e.name||\"Unknown\":e;s&&Je(i,b),m&&Ze(i,b)}return en(e,s,m,l,o,w.current,i)}}var W=x.ReactCurrentOwner,_e=x.ReactDebugCurrentFrame;function D(e){if(e){var n=e._owner,a=z(e.type,e._source,n?n.type:null);_e.setExtraStackFrame(a)}else _e.setExtraStackFrame(null)}var Y;Y=!1;function V(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===r}function pe(){{if(W.current){var e=h(W.current.type);if(e)return`\n\nCheck the render method of \\``+e+\"`.\"}return\"\"}}function rn(e){{if(e!==void 0){var n=e.fileName.replace(/^.*[\\\\\\/]/,\"\"),a=e.lineNumber;return`\n\nCheck your code at `+n+\":\"+a+\".\"}return\"\"}}var he={};function tn(e){{var n=pe();if(!n){var a=typeof e==\"string\"?e:e.displayName||e.name;a&&(n=`\n\nCheck the top-level render call using <`+a+\">.\")}return n}}function ge(e,n){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var a=tn(n);if(he[a])return;he[a]=!0;var o=\"\";e&&e._owner&&e._owner!==W.current&&(o=\" It was passed a child from \"+h(e._owner.type)+\".\"),D(e),c('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',a,o),D(null)}}function ye(e,n){{if(typeof e!=\"object\")return;if(L(e))for(var a=0;a<e.length;a++){var o=e[a];V(o)&&ge(o,n)}else if(V(e))e._store&&(e._store.validated=!0);else if(e){var l=Ue(e);if(typeof l==\"function\"&&l!==e.entries)for(var u=l.call(e),i;!(i=u.next()).done;)V(i.value)&&ge(i.value,n)}}}function an(e){{var n=e.type;if(n==null||typeof n==\"string\")return;var a;if(typeof n==\"function\")a=n.propTypes;else if(typeof n==\"object\"&&(n.$$typeof===O||n.$$typeof===k))a=n.propTypes;else return;if(a){var o=h(n);Ye(a,e.props,\"prop\",o,e)}else if(n.PropTypes!==void 0&&!Y){Y=!0;var l=h(n);c(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",l||\"Unknown\")}typeof n.getDefaultProps==\"function\"&&!n.getDefaultProps.isReactClassApproved&&c(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function on(e){{for(var n=Object.keys(e.props),a=0;a<n.length;a++){var o=n[a];if(o!==\"children\"&&o!==\"key\"){D(e),c(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",o),D(null);break}}e.ref!==null&&(D(e),c(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),D(null))}}function sn(e,n,a,o,l,u){{var i=Ae(e);if(!i){var s=\"\";(e===void 0||typeof e==\"object\"&&e!==null&&Object.keys(e).length===0)&&(s+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var m=rn(l);m?s+=m:s+=pe();var f;e===null?f=\"null\":L(e)?f=\"array\":e!==void 0&&e.$$typeof===r?(f=\"<\"+(h(e.type)||\"Unknown\")+\" />\",s=\" Did you accidentally export a JSX literal instead of a component?\"):f=typeof e,c(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",f,s)}var b=nn(e,n,a,l,u);if(b==null)return b;if(i){var _=n.children;if(_!==void 0)if(o)if(L(_)){for(var E=0;E<_.length;E++)ye(_[E],e);Object.freeze&&Object.freeze(_)}else c(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else ye(_,e)}return e===v?on(b):an(b),b}}var ln=sn;B.Fragment=v,B.jsxDEV=ln})()});var we=Q((En,Ce)=>{\"use strict\";Ce.exports=Ee()});var vn={};mn(vn,{default:()=>yn,frontmatter:()=>hn});var t=_n(we()),hn={title:\"testing\",date:\"2023-03-7\",description:\"test\",image:\"https://velog.velcdn.com/images/restarea/post/58afa61e-e6a0-462e-afd4-0864133c6537/image.png\"};function Oe(d){let r=Object.assign({h3:\"h3\",p:\"p\",img:\"img\",blockquote:\"blockquote\",h2:\"h2\",pre:\"pre\",code:\"code\",br:\"br\",ol:\"ol\",li:\"li\",ul:\"ul\"},d.components);return(0,t.jsxDEV)(t.Fragment,{children:[(0,t.jsxDEV)(r.h3,{id:\"test\",children:\"test\"},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:8,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:(0,t.jsxDEV)(r.img,{src:\"https://velog.velcdn.com/images/restarea/post/58afa61e-e6a0-462e-afd4-0864133c6537/image.png\",alt:\"\"},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:10,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:10,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.blockquote,{children:[`\n`,(0,t.jsxDEV)(r.p,{children:\"\\uD574\\uB2F9 \\uAE00\\uC740 \\uBB34\\uAC81\\uACE0 \\uC0AC\\uC774\\uC988\\uAC00 \\uD070 \\uD504\\uB85C\\uC81D\\uD2B8\\uB97C \\uC9C4\\uD589\\uD568\\uC5D0 \\uC55E\\uC11C server state\\uB97C \\uC5B4\\uB5A4\\uC2DD\\uC73C\\uB85C \\uC77C\\uAD00\\uB418\\uAC8C \\uAC00\\uB3C5\\uC131\\uC788\\uAC8C \\uAD00\\uB9AC\\uD558\\uC5EC \\uD6A8\\uC728\\uC801\\uC778 \\uC791\\uC5C5\\uC774 \\uAC00\\uB2A5\\uD560\\uAE4C\\uB97C \\uACE0\\uBBFC\\uD558\\uBA70 react query\\uB97C \\uC774\\uC6A9\\uD55C server state \\uAD00\\uB9AC\\uBC95\\uACFC \\uD3F4\\uB354\\uAD6C\\uC870, \\uC124\\uACC4\\uB4F1\\uC744 \\uB2F4\\uC740 \\uAE00\\uB85C\\uC11C \\uD558\\uB098\\uC758 \\uC758\\uACAC\\uC73C\\uB85C \\uBD10\\uC8FC\\uC2DC\\uBA74 \\uAC10\\uC0AC\\uB4DC\\uB9AC\\uACA0\\uC2B5\\uB2C8\\uB2E4.\"},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:12,columnNumber:3},this),`\n`]},void 0,!0,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:12,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.h2,{id:\"\\uBC30\\uACBD\",children:\"\\uBC30\\uACBD\"},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:14,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:\"\\uB9AC\\uC561\\uD2B8\\uB97C \\uC774\\uC6A9\\uD574 \\uC6F9 \\uC5B4\\uD50C\\uB9AC\\uCF00\\uC774\\uC158\\uC744 \\uB9CC\\uB4DC\\uB294\\uB370 \\uC788\\uC5B4 \\uC11C\\uBC84\\uC5D0\\uC11C \\uB370\\uC774\\uD130\\uB97C \\uC8FC\\uACE0 \\uBC1B\\uB294 \\uAC83\\uC740 \\uBD88\\uAC00\\uACB0\\uD55C \\uD589\\uC704\\uC774\\uBA70 \\uC774\\uC5D0 \\uB300\\uD55C \\uACE0\\uBBFC\\uC744 \\uB05D\\uC5C6\\uC774 \\uD574\\uC654\\uB2E4.\"},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:16,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:\"a. \\uC11C\\uBC84\\uC5D0 api call\\uC744 \\uB0A0\\uB824 \\uC774\\uB97C useState\\uB97C \\uD1B5\\uD574 \\uB2F4\\uB294\\uB2E4. \\uD615\\uC81C \\uAD00\\uACC4\\uC5D0 \\uC788\\uB294 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB098 \\uC5EC\\uB7EC \\uB5A8\\uC5B4\\uC9C4 \\uACF3\\uC5D0 \\uC704\\uCE58\\uD55C \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0\\uC11C \\uAC19\\uC740 \\uB370\\uC774\\uD130\\uB97C \\uD544\\uC694\\uB85C \\uD560 \\uB54C \\uC6B0\\uB9AC\\uB294 \\uC804\\uC5ED store\\uC5D0 \\uD574\\uB2F9 state\\uB97C \\uB4F1\\uB85D\\uD55C\\uB2E4. post\\uB4F1\\uC758 call\\uC744 \\uB0A0\\uB9AC\\uB294 \\uACBD\\uC6B0\\uC5D0\\uB294 api call + state\\uB97C \\uB2E4\\uC2DC \\uBCC0\\uACBD\\uD574\\uC8FC\\uB294 \\uCF54\\uB4DC\\uB97C \\uC791\\uC131\\uD574\\uC57C\\uD55C\\uB2E4.\"},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:18,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:\"\\uC704\\uC758 \\uBC29\\uBC95\\uB860\\uC740 \\uAC00\\uC7A5 \\uAE30\\uCD08\\uAC00 \\uB418\\uB294 server state\\uB97C \\uB2E4\\uB8E8\\uB294 \\uBC29\\uBC95\\uC774\\uC5C8\\uACE0 \\uD574\\uAC00 \\uAC70\\uB4ED\\uD560\\uC218\\uB85D \\uC6F9\\uC740 \\uB9CE\\uC740 \\uC778\\uD130\\uB799\\uC158\\uC744 \\uC694\\uAD6C\\uD588\\uACE0 \\uB9CE\\uC740 \\uB370\\uC774\\uD130\\uB97C \\uB2F4\\uC744 \\uC218 \\uBC16\\uC5D0 \\uC5C6\\uC5C8\\uB2E4. \\uC810\\uC810 \\uC0AC\\uC774\\uC988\\uB294 \\uCEE4\\uC84C\\uACE0 \\uC774\\uC5D0 \\uB530\\uB77C \\uAD00\\uB9AC\\uD574\\uC57C\\uD558\\uB294 state\\uB3C4 \\uB298\\uC5B4\\uB0AC\\uB2E4.\"},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:20,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.blockquote,{children:[`\n`,(0,t.jsxDEV)(r.p,{children:\"\\uB9AC\\uC561\\uD2B8 \\uCFFC\\uB9AC\\uC758 \\uB4F1\\uC7A5\\uC740 \\uBCF5\\uC7A1\\uD55C server state\\uB97C \\uC880 \\uB354 \\uAE54\\uB054\\uD558\\uAC8C \\uAD00\\uB9AC\\uD574\\uC8FC\\uB294 \\uACC4\\uAE30\\uAC00 \\uB418\\uC5C8\\uACE0 \\uC804\\uC5ED \\uC0C1\\uD0DC\\uC5D0 \\uB300\\uD55C \\uAD00\\uB9AC\\uBC95\\uC5D0 \\uB300\\uD55C \\uACE0\\uBBFC\\uC744 \\uB35C\\uC5B4\\uC8FC\\uC5C8\\uB2E4. \\uB3CC\\uC774\\uCF1C\\uBCF4\\uB2C8 \\uB300\\uBD80\\uBD84\\uC758 \\uC804\\uC5ED \\uC0C1\\uD0DC\\uB294 \\uC11C\\uBC84\\uC5D0\\uC11C \\uAE30\\uC778\\uB418\\uC5C8\\uB358 \\uAC83\\uC774\\uB2E4. redux thunk\\uC640 \\uAC19\\uC740 \\uBCF5\\uC7A1\\uD568\\uC5D0\\uC11C \\uBC97\\uC5B4\\uB098 recoil, zotai\\uC640 \\uAC19\\uC740 \\uC544\\uD1B0 \\uD328\\uD134\\uC758 \\uC0C1\\uD0DC \\uAD00\\uB9AC \\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC\\uB4E4\\uC774 \\uC870\\uBA85\\uBC1B\\uB294 \\uACC4\\uAE30\\uAC00 \\uB418\\uC5C8\\uB2E4.\"},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:22,columnNumber:3},this),`\n`]},void 0,!0,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:22,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.h2,{id:\"react-query\\uC5D0-\\uB300\\uD574\",children:\"react query\\uC5D0 \\uB300\\uD574.\"},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:24,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.h3,{id:\"react-query\\uB97C-\\uC811\\uD558\\uBA74-\\uCC98\\uC74C-usequery\\uC640-\\uB9C8\\uC8FC\\uD558\\uAC8C\\uB41C\\uB2E4\",children:\"react query\\uB97C \\uC811\\uD558\\uBA74 \\uCC98\\uC74C useQuery\\uC640 \\uB9C8\\uC8FC\\uD558\\uAC8C\\uB41C\\uB2E4.\"},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:26,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.pre,{children:(0,t.jsxDEV)(r.code,{children:` const { data, isLoading } = useQuery(['queryKey'], fetchSomething,\n  );\n`},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:28,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:28,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:[\"\\uCCAB \\uC778\\uC0C1\\uC774 \\uC5B4\\uB560\\uB098\\uC694?\",(0,t.jsxDEV)(\"br\",{},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:33,columnNumber:12},this)]},void 0,!0,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:33,columnNumber:1},this),`\n`,(0,t.jsxDEV)(\"br\",{},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:34,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:[\"\\uB2E4\\uC74C \\uCF54\\uB4DC\\uB97C \\uD1B5\\uD574 \\uC870\\uAE08 \\uB354 \\uC0B4\\uD3B4\\uBD05\\uB2C8\\uB2E4.\",(0,t.jsxDEV)(\"br\",{},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:35,columnNumber:22},this)]},void 0,!0,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:35,columnNumber:1},this),`\n`,(0,t.jsxDEV)(\"br\",{},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:36,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.pre,{children:(0,t.jsxDEV)(r.code,{children:`//react query\nconst [page, setPage] = useState(0)\nconst {data} = useQuery([page],()=>fetchSomething(page))\n\n//with normal useState\nconst [page, setPage] = useState(0)\nconst [data, setData] = useState([])\n\n  useEffect(() => {\n    const newData = fetchSomething(page)\n    setData(newData)\n  }, [page])\n`},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:37,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:37,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:[\"useEffect\\uC640 useState \\uB354 \\uB098\\uC544\\uAC00 \\uC804\\uC5ED \\uC2A4\\uD1A0\\uC5B4\\uC5D0 \\uC800\\uC7A5\\uD558\\uB294 \\uBC29\\uC2DD\\uC5D0\\uC11C\",(0,t.jsxDEV)(r.br,{},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\"},this),`\n`,\"react-query\\uBC29\\uC2DD\\uC73C\\uB85C \\uBC14\\uAFC8\\uC73C\\uB85C\\uC11C \\uC6B0\\uB9AC\\uB294 \\uC704 \\uCF54\\uB4DC\\uC5D0\\uC11C \\uC6B0\\uC120 2\\uAC00\\uC9C0 \\uC774\\uC810\\uC744\",(0,t.jsxDEV)(r.br,{},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\"},this),`\n`,\"\\uC5BB\\uC744 \\uC218\\uC788\\uC2B5\\uB2C8\\uB2E4.\"]},void 0,!0,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:52,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.ol,{children:[`\n`,(0,t.jsxDEV)(r.li,{children:\"\\uB2E8\\uC21C \\uCF54\\uB4DC\\uB7C9.\"},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:56,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.li,{children:\"server state \\uBD84\\uB9AC\\uB97C \\uD1B5\\uD55C \\uCF54\\uB4DC \\uAC00\\uB3C5\\uC131\"},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:57,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:56,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.h3,{id:\"\\uC804\\uC5ED-\\uAD00\\uB9AC\\uB85C\\uC11C\\uC758-react-query\",children:\"\\uC804\\uC5ED \\uAD00\\uB9AC\\uB85C\\uC11C\\uC758 react query\"},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:59,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:[\"useQuery\\uB97C \\uC7A0\\uC2DC \\uC0B4\\uD3B4\\uBD05\\uB2C8\\uB2E4.\",(0,t.jsxDEV)(r.br,{},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\"},this),`\n`,\"\\uCCAB \\uBC88\\uC9F8 \\uD30C\\uB77C\\uBBF8\\uD130\\uB85C \\uBB34\\uC5B8\\uAC00 \\uBC30\\uC5F4\\uC744 \\uBC1B\\uACE0\\uC788\\uC2B5\\uB2C8\\uB2E4.\",(0,t.jsxDEV)(r.br,{},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\"},this),`\n`,\"\\uCFFC\\uB9AC\\uD0A4\\uB77C\\uACE0 \\uCE6D\\uD558\\uB294 \\uC774\\uAC83\\uC740 recoil\\uC758 \\uD0A4\\uC640 \\uBE44\\uC2B7\\uD55C \\uB290\\uB08C\\uC73C\\uB85C \\uD0A4\\uB85C \\uAD6C\\uBCC4\\uD574 store\\uC5D0 \\uC800\\uC7A5\\uD569\\uB2C8\\uB2E4.\",(0,t.jsxDEV)(r.br,{},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\"},this),`\n`,\"\\uB2E4\\uB9CC \\uB9AC\\uCF54\\uC77C\\uACFC \\uB2E4\\uB974\\uAC8C \\uBCF5\\uC218\\uC758 \\uD0A4\\uB97C \\uAC00\\uC9C8 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.(\\uBC30\\uC5F4)\",(0,t.jsxDEV)(r.br,{},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\"},this),`\n`,\"\\uB450 \\uBC88\\uC9F8 \\uC778\\uC790\\uC778 fetch\\uD568\\uC218\\uC758 \\uACB0\\uACFC\\uAC12\\uC744 data\\uC5D0 \\uB2F4\\uC544 \\uCFFC\\uB9AC\\uD074\\uB77C\\uC774\\uC5B8\\uD2B8\\uC5D0 \\uB2F4\\uAE41\\uB2C8\\uB2E4.\"]},void 0,!0,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:61,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.h3,{id:\"\\uCE90\\uC2F1-\\uAD00\\uB9AC\",children:\"\\uCE90\\uC2F1 \\uAD00\\uB9AC\"},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:67,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:[\"\\uB9AC\\uC561\\uD2B8 \\uCFFC\\uB9AC\\uC5D0\\uB294 \\uBA87 \\uAC00\\uC9C0 \\uADDC\\uCE59\\uC5D0 \\uB530\\uB77C fetch\\uD568\\uC218\\uB97C \\uC7AC\\uD638\\uCD9C\\uD560\\uC9C0 \\uACB0\\uC815\\uD569\\uB2C8\\uB2E4.\",(0,t.jsxDEV)(r.br,{},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\"},this),`\n`,\"\\uB610 \\uBA87 \\uAC00\\uC9C0 \\uC124\\uC815\\uC5D0 \\uB530\\uB77C \\uD574\\uB2F9 \\uD0A4\\uB97C \\uAC00\\uC9C4 data\\uAC00 \\uC0C1\\uD588\\uB294\\uC9C0 \\uC544\\uB2CC\\uC9C0\\uB97C \\uD310\\uB2E8\\uD569\\uB2C8\\uB2E4.\",(0,t.jsxDEV)(r.br,{},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\"},this),`\n`,\"\\uC0C1\\uD588\\uB2E4\\uBA74 \\uC7AC\\uD638\\uCD9C\\uB429\\uB2C8\\uB2E4.\"]},void 0,!0,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:69,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:\"\\uADDC\\uCE59\\uACFC \\uD65C\\uC6A9\\uC5D0 \\uB300\\uD574\\uC11C\\uB294 \\uBCF8 \\uAE00\\uC758 \\uC8FC\\uC81C\\uC640 \\uBA40\\uC5B4\\uC9C0\\uBBC0\\uB85C \\uC774\\uD574\\uD558\\uACE0 \\uC788\\uB2E4\\uACE0 \\uAC00\\uC815\\uD558\\uACE0 \\uB118\\uC5B4\\uAC00\\uACA0\\uC2B5\\uB2C8\\uB2E4.\"},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:73,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.h2,{id:\"\\uB9AC\\uC561\\uD2B8-\\uCFFC\\uB9AC\\uB97C-\\uC774\\uC6A9\\uD55C-\\uC124\\uACC4\\uC5D0-\\uB300\\uD574\",children:\"\\uB9AC\\uC561\\uD2B8 \\uCFFC\\uB9AC\\uB97C \\uC774\\uC6A9\\uD55C \\uC124\\uACC4\\uC5D0 \\uB300\\uD574\"},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:75,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:\"\\uB4DC\\uB514\\uC5B4 \\uBCF8\\uB860\\uC785\\uB2C8\\uB2E4!\"},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:77,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:\"\\uB2E4\\uC591\\uD55C \\uAE30\\uB2A5\\uC744 \\uC81C\\uACF5\\uD558\\uB294\\uB9CC\\uD07C \\uC77C\\uAD00\\uB418\\uACE0 \\uC2A4\\uB9C8\\uD2B8\\uD558\\uAC8C \\uD65C\\uC6A9\\uD558\\uAE30 \\uC704\\uD574 \\uB9CE\\uC740 \\uACE0\\uBBFC\\uC744 \\uD558\\uAC8C \\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\"},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:79,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:\"\\uB300\\uB7B5\\uC801\\uC778 \\uAD6C\\uC870\\uB294\"},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:81,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:\"\\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0\\uC11C\\uB294 custom hook\\uC73C\\uB85C \\uB798\\uD551\\uB41C useQuery \\uD639\\uC740 useMutation \\uD6C5\\uC744 \\uBD88\\uB7EC\\uC624\\uACE0 useQuery\\uC758 fetch\\uD568\\uC218\\uB4E4\\uC740 services\\uB77C\\uB294 \\uD3F4\\uB354\\uC5D0 \\uD398\\uC774\\uC9C0 \\uB2E8\\uC704\\uB85C \\uD30C\\uC77C\\uC744 \\uB9CC\\uB4E4\\uC5B4 \\uAD00\\uB9AC\\uD569\\uB2C8\\uB2E4.\"},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:83,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:\"\\uB2E4\\uC74C \\uCF54\\uB4DC\\uB294 services \\uCF54\\uB4DC\\uC5D0 \\uC815\\uC758\\uB41C fetcher\\uD568\\uC218\\uB4E4\\uC785\\uB2C8\\uB2E4.\"},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:85,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.pre,{children:(0,t.jsxDEV)(r.code,{children:`// /services/somethings.ts\n\nexport const getSomething = async (id: string) => {\n  const data = await axios.get(\\`/api/something?id=\\${id}\\`).then((res) => res.data);\n  return data;\n};\n\nexport const addSomething = async (content) => {\n  await axios.post('/api/something', content);\n};\n\n`},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:87,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:87,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:\"\\uC774 \\uD568\\uC218\\uB4E4\\uC744 custom query hook\\uC5D0\\uC11C \\uD638\\uCD9C\\uD574\\uC90D\\uB2C8\\uB2E4.\"},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:101,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.pre,{children:(0,t.jsxDEV)(r.code,{children:`// pages/Something/_queries.ts\n\nexport const useSomethingQuery = (id: string) => {\n  const { data, isLoading } = useQuery(['/something', id], () =>\n    getSomething(id),\n  );\n  return {\n    somethingData: data,\n    isLoading,\n  };\n};\n\nexport const useSomethingMutation = (content) => {\n  const queryClient = useQueryClient();\n  const { mutate } = useMutation(() => addSomething(content), {\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/something'] });\n    },\n  });\n\n  return {\n    mutateWidgetConfig: mutate,\n  };\n};\n\n`},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:103,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:103,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.pre,{children:(0,t.jsxDEV)(r.code,{children:`// SomeComponent.jsx\n\n...\n\nconst { somethingData, isLoading} = useSomethingQuery('someId')\n\nconst somethingsList = somethingData.map((something)=> {\n  return (\n  <li key={something}>{something}<li>\n  )\n})\n\nreturn (\n  <div>\n    {isLoading ?\n      (<span>...loading</span>)\n      : (<ul>{somethingsList}</ul>)\n  </div>\n)\n\n`},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:131,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:131,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.ul,{children:[`\n`,(0,t.jsxDEV)(r.li,{children:[\"\\uC5EC\\uAE30\\uC11C \\uC54C\\uB824\\uB4DC\\uB9AC\\uACE0 \\uC2F6\\uC740 \\uC810\\uC740 useMutation\\uCF5C\\uC785\\uB2C8\\uB2E4.\",(0,t.jsxDEV)(r.br,{},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\"},this),`\n`,\"\\uAE30\\uC874\\uC5D0 \\uB9E4\\uBC88 post\\uB97C \\uD560 \\uB54C \\uB370\\uC774\\uD130\\uB97C \\uAC31\\uC2E0\\uD574\\uC8FC\\uAE30 \\uC704\\uD574 post\\uCF5C\\uACFC setState\\uB97C \\uBB36\\uC5B4 \\uCF54\\uB4DC\\uB97C \\uC791\\uC131\\uD558\\uC600\\uC2B5\\uB2C8\\uB2E4. useMutation\\uC5D0\\uB294 \\uD55C \\uAC00\\uC9C0 \\uC8FC\\uC758\\uD574\\uC57C \\uD560 \\uC810\\uC774 \\uC788\\uB294\\uB370 \\uBC14\\uB85C query\\uD0A4\\uC5D0 \\uBCC0\\uB3D9\\uC774 \\uC5C6\\uAE30 \\uB54C\\uBB38\\uC5D0 refetching\\uC774 \\uC774\\uB8E8\\uC5B4\\uC9C0\\uC9C0 \\uC54A\\uB294\\uB2E4\\uB294 \\uC810\\uC785\\uB2C8\\uB2E4.\",(0,t.jsxDEV)(r.br,{},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\"},this),`\n`,\"\\uC704\\uC5D0 \\uC608\\uC2DC\\uB294 post call\\uC774 \\uC131\\uACF5\\uD568\\uC5D0 \\uB530\\uB77C query key\\uB97C \\uB0A0\\uB824\\uBC84\\uB824\\uC11C \\uB2E4\\uC2DC \\uC870\\uD68C\\uD558\\uAC8C \\uB9CC\\uB4DC\\uB294 \\uBC29\\uBC95\\uC785\\uB2C8\\uB2E4.\"]},void 0,!0,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:154,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:154,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.blockquote,{children:[`\n`,(0,t.jsxDEV)(r.p,{children:\"\\uB370\\uC774\\uD130\\uB7C9\\uC774 \\uB9CE\\uAC70\\uB098 \\uC5F0\\uC0B0\\uC774 \\uBB34\\uAC81\\uAC70\\uB098 mutation call\\uC774 \\uBE48\\uBC88\\uD560 \\uACBD\\uC6B0 \\uC131\\uACF5\\uC2DC refetching\\uD574\\uC624\\uB294 \\uB300\\uC2E0 \\uCFFC\\uB9AC \\uB370\\uC774\\uD130\\uB9CC \\uBC14\\uAFD4\\uC8FC\\uB294 \\uBC29\\uBC95\\uB3C4 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:158,columnNumber:3},this),`\n`]},void 0,!0,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:158,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:\"\\uC774\\uB7F0\\uC2DD\\uC73C\\uB85C \\uAD6C\\uC131\\uD55C\\uB370\\uB294 \\uBA87 \\uAC00\\uC9C0 \\uC774\\uC720\\uAC00 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:160,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:[\"a. \\uADFC\\uAC04\\uC774 \\uB418\\uB294 \\uC6D0\\uCE59\\uC740 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0\\uC11C\\uB294 \\uCD5C\\uB300\\uD55C \\uAC04\\uACB0\\uD558\\uACE0 \\uAE54\\uB054\\uD558\\uACE0 \\uC9C1\\uAD00\\uC801\\uC774\\uAC8C\\uC785\\uB2C8\\uB2E4. \\uC6B0\\uB9AC\\uB294 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0\\uC11C useSomethingQuery\\uAC00 \\uC5B4\\uB5A4\\uC2DD\\uC758 \\uB85C\\uC9C1\\uC73C\\uB85C \\uB3CC\\uC544\\uAC00\\uB294\\uC9C0 \\uC54C \\uD544\\uC694\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\",(0,t.jsxDEV)(r.br,{},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\"},this),`\n`,\"\\uB85C\\uC9C1 \\uC218\\uC815\\uC740 \\uC624\\uB85C\\uC9C0 queries\\uD30C\\uC77C\\uC5D0\\uC11C \\uC774\\uB8E8\\uC5B4\\uC9D1\\uB2C8\\uB2E4.\"]},void 0,!0,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:162,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:\"b. \\uD574\\uB2F9 \\uBC29\\uC2DD\\uC740 \\uB9C8\\uCE58 \\uD30C\\uB77C\\uBBF8\\uD130\\uB97C \\uB123\\uC73C\\uBA74 \\uC6D0\\uD558\\uB294 \\uB370\\uC774\\uD130\\uAC00 \\uB098\\uC624\\uB294 \\uB2E8\\uC21C \\uD568\\uC218\\uCC98\\uB7FC \\uBCF4\\uC5EC\\uC9D1\\uB2C8\\uB2E4. \\uCEF4\\uD3EC\\uB10C\\uD2B8 \\uB808\\uBCA8\\uC5D0\\uC11C\\uC758 \\uCF54\\uB4DC\\uB7C9\\uC744 \\uC904\\uC77C \\uC218 \\uC788\\uC73C\\uBA70 \\uC9C1\\uAD00\\uC801\\uC785\\uB2C8\\uB2E4.\"},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:165,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:\"c. queries\\uD30C\\uC77C\\uC740 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0\\uC11C \\uC9C1\\uC811\\uC801\\uC73C\\uB85C \\uC0AC\\uC6A9\\uB418\\uAE30 \\uB54C\\uBB38\\uC5D0 \\uBA54\\uC778\\uD14C\\uC774\\uB108\\uC778 tkdodo\\uC758 \\uC758\\uACAC\\uC5D0 \\uB530\\uB77C \\uAC19\\uC740 \\uB808\\uBCA8\\uC758 \\uD3F4\\uB354\\uC5D0 co-locating \\uC2DC\\uCF1C\\uC8FC\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\"},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:167,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:\"d. \\uBC18\\uB300\\uB85C fetch\\uD568\\uC218\\uB4E4\\uC740 page \\uB2E8\\uC704\\uBCC4\\uB85C \\uC870\\uD68C\\uD560 \\uC77C\\uC774 \\uB9CE\\uACE0 api \\uBAA9\\uB85D\\uC744 \\uD55C\\uAEBC\\uBC88\\uC5D0 \\uC870\\uD68C\\uD560 \\uC77C\\uB3C4 \\uB9CE\\uC558\\uAE30 \\uB54C\\uBB38\\uC5D0 services\\uD3F4\\uB354\\uC5D0 \\uAE30\\uB2A5 \\uD639\\uC740 \\uD398\\uC774\\uC9C0 \\uB2E8\\uC704\\uB85C \\uD30C\\uC77C\\uC744 \\uB9CC\\uB4E4\\uC5B4 \\uBAA8\\uB4C8\\uD654\\uD558\\uC5EC \\uAD00\\uB9AC\\uD569\\uB2C8\\uB2E4.\"},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:169,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.blockquote,{children:[`\n`,(0,t.jsxDEV)(r.p,{children:\"\\uD604\\uC7AC\\uB3C4 \\uB354 \\uB098\\uC740 \\uAD6C\\uC870\\uC5D0 \\uB300\\uD574 \\uACE0\\uBBFC\\uC911\\uC5D0 \\uC788\\uC73C\\uBA70 \\uC774 \\uAE00\\uC5D0\\uC11C \\uC18C\\uAC1C\\uB4DC\\uB9B0 \\uBC29\\uC2DD\\uC740 \\uD604\\uC7AC\\uAE4C\\uC9C0 \\uC0AC\\uC6A9\\uD588\\uB358 \\uBC29\\uC2DD\\uC911 \\uAC00\\uC7A5 \\uC9C1\\uAD00\\uC801\\uC774\\uACE0 \\uAD1C\\uCC2E\\uB2E4\\uACE0 \\uC0DD\\uAC01\\uD558\\uC5EC \\uC18C\\uAC1C\\uD558\\uAC8C \\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\"},void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:171,columnNumber:3},this),`\n`]},void 0,!0,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:171,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\",lineNumber:1,columnNumber:1},this)}function gn(d={}){let{wrapper:r}=d.components||{};return r?(0,t.jsxDEV)(r,Object.assign({},d,{children:(0,t.jsxDEV)(Oe,d,void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\"},this)}),void 0,!1,{fileName:\"/Users/weezy/Desktop/CODE/_blog/tech_blog/posts/_mdx_bundler_entry_point-446ab900-38a0-481b-b097-e9d68aff36a5.mdx\"},this):Oe(d)}var yn=gn;return pn(vn);})();\n/**\n * @license React\n * react-jsx-dev-runtime.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n;return Component;"
  },
  "_id": "test.mdx",
  "_raw": {
    "sourceFilePath": "test.mdx",
    "sourceFileName": "test.mdx",
    "sourceFileDir": ".",
    "contentType": "mdx",
    "flattenedPath": "test"
  },
  "type": "Post"
}